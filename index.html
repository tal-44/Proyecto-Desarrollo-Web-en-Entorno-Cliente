<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hito 1 - Cat√°logo de Plantas</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- Leaflet CSS para el mapa de tiendas -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
</head>
<body>
  <header class="site-header">
    <!-- Barra informativa superior -->
    <div class="top-bar">
      Descubre nuestras plantas de temporada | Env√≠o gratis en compras superiores a 50‚Ç¨
    </div>
    <!-- Cabecera principal con logo y navegaci√≥n -->
    <div class="header-main">
      <div class="logo">üå± Rinc√≥n Verde</div>
      <nav class="nav-menu">
        <!-- Enlaces a las p√°ginas del proyecto simplificado -->
        <a href="index.html" class="nav-link">Cat√°logo</a>
        <a href="test/test.html" class="nav-link">Realiza un Test</a>
        <a href="ramos/ramos.html" class="nav-link">Ramos Pre-hechos</a>
        <a href="#nuestras-tiendas" class="nav-link">Tiendas</a>
      </nav>
      <!-- Bot√≥n del carrito: muestra un icono y un contador de art√≠culos -->
      <div class="user-actions">
        <!-- Aqu√≠ mostraremos el estado del usuario: enlaces de login/registro o el nombre y un enlace de cierre de sesi√≥n -->
        <div id="user-info" class="user-info"></div>
        <button id="open-cart" class="cart-button" aria-label="Ver carrito">
          <span class="cart-icon">&#x1f6cd;</span>
          <span id="cart-count" class="cart-count">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Bot√≥n de modo oscuro flotante -->
  <button id="dark-mode-toggle" class="dark-mode-toggle" aria-label="Cambiar modo oscuro">
    Modo Oscuro
  </button>

  <main class="site-main">
    <!-- Panel de filtros lateral -->
    <aside class="filtros">
      <h2>Filtros</h2>
      <!-- Grupo de filtro: Ramos pre-hechos -->
      <div class="filtro-grupo">
        <button class="filtro-toggle" data-target="opciones-ramos">üì¶ Ramos Pre-hechos</button>
        <div class="filtro-opciones" id="opciones-ramos">
          <button class="filtro-opcion" data-grupo="ramos" data-valor="todos">Todos</button>
          <button class="filtro-opcion" data-grupo="ramos" data-valor="si">Solo Ramos</button>
          <button class="filtro-opcion" data-grupo="ramos" data-valor="no">Solo Plantas</button>
        </div>
      </div>
      <!-- Grupo de filtro: Temporada -->
      <div class="filtro-grupo">
        <button class="filtro-toggle" data-target="opciones-temporada">üå± Temporada</button>
        <div class="filtro-opciones" id="opciones-temporada">
          <button class="filtro-opcion" data-grupo="temporada" data-valor="todas">Todas</button>
          <button class="filtro-opcion" data-grupo="temporada" data-valor="primavera">Primavera</button>
          <button class="filtro-opcion" data-grupo="temporada" data-valor="verano">Verano</button>
          <button class="filtro-opcion" data-grupo="temporada" data-valor="oto√±o">Oto√±o</button>
          <button class="filtro-opcion" data-grupo="temporada" data-valor="invierno">Invierno</button>
        </div>
      </div>
      <!-- Grupo de filtro: Dificultad -->
      <div class="filtro-grupo">
        <button class="filtro-toggle" data-target="opciones-dificultad">‚≠ê Dificultad</button>
        <div class="filtro-opciones" id="opciones-dificultad">
          <button class="filtro-opcion" data-grupo="dificultad" data-valor="todas">Todas</button>
          <button class="filtro-opcion" data-grupo="dificultad" data-valor="facil">F√°cil</button>
          <button class="filtro-opcion" data-grupo="dificultad" data-valor="media">Media</button>
          <button class="filtro-opcion" data-grupo="dificultad" data-valor="dificil">Dif√≠cil</button>
        </div>
      </div>
      <button id="limpiarFiltros" class="limpiar-btn">Limpiar filtros</button>
    </aside>

    <!-- Secci√≥n de cat√°logo de productos -->
    <section class="catalogo">
      <header class="catalogo-header">
        <h1 id="titulo-catalogo">Todas las Plantas</h1>
        <p id="texto-filtro-actual">Mostrando: Todas las plantas</p>
        <!-- Buscador din√°mico para filtrar por nombre -->
        <input type="text" id="search-input" class="search-input" placeholder="Buscar por nombre...">
      </header>
      <div class="productos-grid" id="productos-grid">
        <!-- Los productos se cargan din√°micamente desde product_data.json -->
      </div>
      <div id="sin-resultados" class="sin-resultados hidden">
        <p>No se encontraron plantas con los filtros seleccionados.</p>
      </div>
    </section>
  </main>

  <!-- Secci√≥n Nuestras Tiendas con mapa Leaflet -->
  <section class="tiendas-section" id="nuestras-tiendas">
    <div class="tiendas-container">
      <header class="tiendas-header">
        <h2>Nuestras Tiendas</h2>
        <p>Vis√≠tanos en nuestras tiendas f√≠sicas y descubre nuestra selecci√≥n de plantas y ramos.</p>
      </header>
      <div class="tiendas-content">
        <div id="map" class="mapa-tiendas"></div>
        <div class="tiendas-info">
          <div class="tienda-card">
            <h3>Rinc√≥n Verde Centro</h3>
            <p><strong>Direcci√≥n:</strong> Avenida de los Encuartes 21, Tres Cantos</p>
            <p><strong>Horario:</strong> Lun-S√°b: 10:00 - 20:00</p>
            <p><strong>Tel√©fono:</strong> +34 912 345 678</p>
          </div>
          <div class="tienda-card">
            <h3>Rinc√≥n Verde Nuevo Tres Cantos</h3>
            <p><strong>Direcci√≥n:</strong> Calle Sector Oficios 14, Tres Cantos</p>
            <p><strong>Horario:</strong> Lun-S√°b: 09:30 - 21:00</p>
            <p><strong>Tel√©fono:</strong> +34 915 678 901</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer class="site-footer">
    <p>&copy; 2026 Rinc√≥n Verde. Proyecto de JavaScript b√°sico.</p>
  </footer>

  <!-- Librer√≠a SweetAlert2 para notificaciones -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- Leaflet JS para el mapa de tiendas -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <!-- Utilidades comunes -->
  <script src="lib/utils.js"></script>
  <!-- Scripts propios -->
  <script src="historial/history.js"></script>
  <script src="carrito/cart.js"></script>
  <script src="css/dark-mode.js"></script>
  <script src="productos/script.js"></script>
  <script src="usuarios/user.js"></script>
  <!-- Script del mapa de tiendas -->
  <script src="lib/stores-map.js"></script>
</body>
</html>
